<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Résultats de recherche</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w==" crossorigin="anonymous" referrerpolicy="no-referrer">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/dist/acceuil.min.css">
    <style>
        body {
            background-color: white;
            color: black;
            font-family: 'Poppins', sans-serif;
        }

        .result-item {
            border: 1px solid #ccc;
            padding: 10px;
            margin: 10px 0;
            display: flex;
            align-items: center;
        }

        .result-icon {
            width: 50px;
            height: 50px;
            margin-right: 10px;
        }

        .result-title {
            font-size: 18px;
            margin: 0 0 5px 0;
        }

        .result-description {
            margin: 0;
        }

        .section__title {
            font-size: 24px;
            margin-bottom: 10px;
        }

        .section__hero {
            padding: 20px;
        }

        #content-display {
            margin-top: 20px;
            border: 1px solid #ccc;
            padding: 20px;
            display: none;
        }
    </style>
</head>
<body>
    <header class="header">
        <img class="devis" src="/img/devis-grt.png" alt="logo-devis">
        <div class="logo">
            <img src="/img/logo-valide-23122021.png" alt="logo">
        </div>
        <div class="btn-burger">
            <div class="span-burger">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </div>
        <nav class="nav-burger sidebar-burger">
            <!-- Le contenu du menu burger -->
        </nav>
        <div class="content-burger">
            <div class="header-burger"></div>
        </div>
        <div id="myNav" class="overlay">
            <!-- Le contenu de la navigation overlay -->
        </div>
    </header>
    <main>
        <section class="section__hero">
            <h2 class="section__title">Résultats de Recherche</h2>
            <h1>Résultats de la recherche pour "<span id="search-query"></span>"</h1>
            <div class="container search-results" id="results-container">
                <!-- Les résultats de recherche seront insérés ici par JavaScript -->
            </div>
            <div id="content-display">
                <!-- Le contenu de la page sélectionnée sera affiché ici -->
            </div>
        </section>
    </main>
    <footer>
        <div class="footer-content">
            <img class="devis-footer" src="/img/devis-gratuit.webp" alt="logo-devis-gratuit">
            <ul>
                <li><a href="/public/Mentions-légales.html">Mentions légales</a></li>
                <li><a href="/public/Politique-de-confidentialité.html">Politique de confidentialité</a></li>
                <li><a href="/public/Plan-du-site.html">Plan du site</a></li>
            </ul>
        </div>
    </footer>
    <script src="/js/acceuil.js"></script>
    <script>
        const searchQuery = "termites";
        const searchResults = [
            {
                title: "Cafard_Blatte",
                description: "Description de la page",
                link: "/public/Cafard_Blatte.html",
                image: "/img/icon/cafard.webp"
            },
            {
                title: "Cave-local",
                description: "Description de la page",
                link: "/public/Cave-local.html",
                image: "/img/icon/poubelle.webp"
            },
            {
                title: "Dépigeonnage",
                description: "Description de la page",
                link: "/public/Dépigeonnage.html",
                image: "/img/icon/piegon.webp"
            },
            {
                title: "Dératisation",
                description: "Description de la page",
                link: "/public/Dératisation.html",
                image: "/img/icon/poubelle.webp"
            },
            {
                title: "Désinfection",
                description: "Description de la page",
                link: "/public/Désinfection.html",
                image: "/img/icon/desinfection.webp"
            },
            {
                title: "Éco-responsable",
                description: "Description de la page",
                link: "/public/Éco-responsable.html",
                image: "/img/icon/eco.webp"
            },
            {
                title: "Fouine_Martre",
                description: "Description de la page",
                link: "/public/Fouine_Martre.html",
                image: "/img/icon/fouine.webp"
            },
            {
                title: "Cave-local",
                description: "Description de la page",
                link: "/public/Cave-local.html",
                image: "/img/icon/poubelle.webp"
            },
            {
                title: "Cave-local",
                description: "Description de la page",
                link: "/public/Cave-local.html",
                image: "/img/icon/poubelle.webp"
            },
            {
                title: "Cave-local",
                description: "Description de la page",
                link: "/public/Cave-local.html",
                image: "/img/icon/poubelle.webp"
            }
        ];

        document.getElementById('search-query').innerText = searchQuery;

        const resultsContainer = document.getElementById('results-container');
        const contentDisplay = document.getElementById('content-display');

        function createResultItem(result) {
            const resultItem = document.createElement('div');
            resultItem.className = 'result-item';

            const img = document.createElement('img');
            img.src = result.image;
            img.alt = `icon-${result.title}`;
            img.className = 'result-icon';
            resultItem.appendChild(img);

            const title = document.createElement('h2');
            title.className = 'result-title';
            const link = document.createElement('a');
            link.href = result.link;
            link.innerText = result.title;
            link.addEventListener('click', function(event) {
                event.preventDefault();
                loadContent(result.link);
            });
            title.appendChild(link);
            resultItem.appendChild(title);

            const description = document.createElement('p');
            description.className = 'result-description';
            description.innerText = result.description;
            resultItem.appendChild(description);

            return resultItem;
        }

        function loadContent(url) {
            fetch(url)
                .then(response => response.text())
                .then(data => {
                    contentDisplay.innerHTML = data;
                    contentDisplay.style.display = 'block';
                })
                .catch(error => {
                    contentDisplay.innerHTML = '<p>Erreur de chargement du contenu.</p>';
                    contentDisplay.style.display = 'block';
                });
        }

        searchResults.forEach(result => {
            const resultItem = createResultItem(result);
            resultsContainer.appendChild(resultItem);
        });
    </script>
</body>
</html>
